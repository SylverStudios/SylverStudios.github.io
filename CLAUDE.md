# CLAUDE.md

This file contains project-specific context for Claude Code sessions.

## Project Overview

Sylver Studios personal website - a Jekyll blog with game showcases. Deployed to Netlify at sylverstudios.dev.

## Tech Stack

- **Static Site Generator:** Jekyll 3.9.x
- **CSS Framework:** Tailwind CSS 3.4 with Typography plugin
- **Ruby:** System Ruby 2.6+ (Gemfile is flexible, uses local vendor/bundle)
- **Node:** For Tailwind build toolchain
- **Deployment:** Netlify (configured in `netlify.toml`)

## Local Development

```bash
# Install dependencies
npm install
bundle config set --local path 'vendor/bundle'
bundle install

# Development (CSS watch + Jekyll serve)
npm run dev

# Or separately:
npm run css:watch    # Tailwind in watch mode
bundle exec jekyll serve --drafts --livereload

# Production build
npm run build        # Runs css:build + jekyll:build
```

**Note:** If `bundle` command fails, you may need to use the full path to a user-installed bundler:
```bash
/Users/aaronvotre/.gem/ruby/2.6.0/bin/bundle exec jekyll serve
```

## Project Structure

```
_layouts/
  default.html     # Base layout with Tailwind
  home.html        # Homepage with post list + cover images
  page.html        # Generic pages
  post.html        # Blog posts with prose typography
  tmm.html         # STANDALONE - Trump Money Maker (Bootstrap, no Tailwind!)
  circuitgame.html # Game layout (extends default)
  supervirus.html  # Game layout (extends default)
  unity.html       # Unity WebGL games (extends default)

_includes/
  header.html      # Sticky nav with mobile hamburger menu
  footer.html      # Footer with social links

assets/css/
  main.css         # Tailwind source with custom components
  site.css         # Generated (don't edit directly)
  style.scss       # Old Minima styles (kept for reference, not used)
```

## Important Patterns

### Game Layouts
The TMM (Trump Money Maker) game uses Bootstrap 3.3.6 from `assets/tmm/tmm.css`. Its layout is **standalone** and does NOT extend `default.html` to avoid Tailwind's CSS reset conflicting with Bootstrap's grid system.

If adding new games with their own CSS frameworks, make their layouts standalone too.

### Post Cover Images
Posts can specify a cover image in frontmatter:
```yaml
image: /assets/my-image.png
```
These display as thumbnails on the homepage. Use square-ish images for best results (they're cropped with `object-cover`).

### Drafts
Draft posts live in `_drafts/`. The template files there have categories commented out so they don't appear in listings when running with `--drafts`.

### Design Tokens
Custom Tailwind colors defined in `tailwind.config.js`:
- `accent-*` - Teal accent color (links, buttons, hover states)
- `surface-*` - Warm neutral grays (backgrounds, text, borders)

### Custom CSS Components
Defined in `assets/css/main.css`:
- `.tag-pill` - Tag badges
- `.post-card` - Hoverable post list items
- `.game-card` - Game gallery cards
- `.note`, `.callout`, `.indent` - Content callout boxes

## Gotchas

1. **Ruby version:** The system Ruby on macOS may be old. Gems install to `vendor/bundle` to avoid permission issues.

2. **Tailwind content paths:** Don't use `./**/*.html` - it matches node_modules. Be specific with paths in `tailwind.config.js`.

3. **Game CSS conflicts:** Games with their own CSS frameworks (Bootstrap, etc.) need standalone layouts that don't load Tailwind.

4. **Generated CSS:** `assets/css/site.css` is generated by Tailwind. Always edit `main.css` instead.

## Useful Commands

```bash
# Check what posts have cover images
grep -l "^image:" _posts/*.md

# List all game posts
grep -l "categories:.*games" _posts/*

# Rebuild just CSS
npm run css:build
```
